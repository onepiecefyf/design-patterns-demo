### 两阶段提交
1、投票  
2、提交

问题：

同步阻塞 所有节点等到协调者通知提交  
单点问题 协调者出现问题，整个流程出现问题  
数据不一致 协调者向所有参与者发出Commit请求之后，网络出现问题，导致部分提交，部分没有提交  
太过保守 任意一个节点的失败都会导致事务的失败

### 三阶段提交

#### canCommit
- 事务询问
- 参与者向协调者反馈询问响应

#### preCommit
1、执行事务预提交
所有的参与者响应都是YES、开始执行事务预提交
- 发送预提交请求
- 事务预提交
- 参与者向协调者响应预提交结果

2、中断事务
- 向所有参与者发送中断请求
- 中断事务

#### doCommit

可能出现的问题
- 协调者出现问题
- 协调者和参与者之间的网络出现问题

1、执行事务提交
所有的参与者响应都是YES、开始执行事务预提交
- 发送提交请求
- 事务提交
- 参与者向协调者响应提交结果
- 事务完成

2、中断事务
- 向所有参与者发送中断请求
- 中断事务


### Paxos算法 保证数据一致性 CA



